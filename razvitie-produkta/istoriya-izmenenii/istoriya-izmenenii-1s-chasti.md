# История изменений 1С-части

## Версия 2.4.11.1 от 27.02.2020 \#\#

**Минимальная версия для обновления: 2.4.10.0**

**Главное**

* Добавлена возможность кроссировки брендов из "Виртуального склада 3". 

### Добавлено: \#\#\#

* В форме "Работа с дублями брендов" добавлена возможность кроссировки брендов из "Виртуального склада 3" \(обновление списка брендов будет поддержано с релиза "Виртуального склада 3" 3.0.1.9\).
* В меню "Zeta Web - Каталог и товары" добавлен пункт "Бренды виртуального склада"
* Добавлена возможность настроить систему оповещения об ошибках обмена на ошибки, возникающие определенное количество раз подряд \(см. форму настроек обмена\). Событие ошибки "ОбменДанными.МножественныеОшибки" \(см форму настройки событий ЖР для отправки\).
* В настройки провайдеров TecDoc добавлена возможность указать таймаут, в течение которого будет ожидаться ответ \(там, где это поддерживается провайдером\).
* В настройки домена добавлена роль для ботов \(см. Домены, закладка Продажи\).

### Изменено: \#\#\#

* Заказ поставщику, созданный для обеспечения заказа с сайта \(из виртуального склада или из веб-сервисов поставщиков\) теперь создается с датой, которая на одну секунду меньше, чем дата заказа.
* Регламентное задание "Контроль зависших фоновых заданий обмена \(Zeta Web\)" переименовано в "Контроль обмена \(Zeta Web\)".

### Исправлено: \#\#\#

* Запрещена возможность поменять поставщика в складе поставщика, если этот склад используется в настройках группы доступности складов.
* Некорректно работал фильтр по покупателю в ценообразовании на внешние остатки.
* При пометке номенклатуры на удаление не помечался на удаление кросс сам на себя.
* Изменен тип реквизита "Порядок сортировки" у каталога сайта со строки на число.
* Получение описания таблицы на сайте для табличных частей объектов обмена. 

### Удалено: \#\#\#

* Нет.

## Версия 2.4.11.0 от 27.11.2019

**Минимальная версия для обновления: 2.4.10.0**

**Главное**

* Расширена работа с поставщиками информации TecDoc. 

### Добавлено:

* В подсистему отправки сообщений о событиях добавлена возможность получать сообщения о новых пользователях сайта.
* К складу поставщика, который загружается из WSG, добавлен идентификатор склада, который возвращает поставщик.
* Появилась возможность указывать изображение и описание для брендов.
* В списке избранных товаров отображается количество.
* Для настройки спец. цен добавлена роль сайта.

### Изменено:

* Диагностика обмена не выводит ошибочные сообщения, если в конфигурацию не встроен виртуальный склад в.1.
* При использовании поля НаименованиеВURLДляОсновногоИзображения в расширенной настройке метатегов к значению автоматически добавляется расширение, если оно было указано в исходном файле. Если оно не было указано, то автоматически добавляется ".jpg".
* Расширены настройки провайдеров TecDoc.
* Из "Панели управления сайтом" убрана неактуальная закладка со списками разрешенной и запрещенной номенклатуры.
* Изменена сортировка в журнале отправленных сообщений.

### Исправлено:

* Скидка по сегменту номенклатуры ошибочно применялась к спеццене в 1С \(не на сайте\).
* Не применялось общее правило внешнего ценообразования, если было указано специальное правило, которое не подходит по условиям.
* Исправлено автоформирование текстов CSS в редакторе CSS.
* Копии баз, развернутых на одном и том же сервере, могли использовать один и тот же каталог обмена, что приводило к ошибкам обмена.
* Доступ к шаблонам сообщений без полных прав. 

### Удалено:

* Нет.

## Версия 2.4.10.1 от 23.09.2019

**Минимальная версия для обновления: 2.4.9.0**

**Главное**

* Добавлена функциональность мониторинга состояния обмена с сайтом.

### Добавлено:

* В настройке обмена добавлена возможность включить мониторинг состояния обмена и настроить расписание мониторинга \(необходимо настроить отправку соответствующих сообщений из журнала регистрации\).
* Добавлена возможность отправки определенных сообщений из журнала регистрации по электронной почте \(см. меню "Сообщения \(эл.почта и SMS\) - Сообщения из журнала регистрации\).

  -Добавлена возможность хранить историю данных по заказам покупателей, которые импортируются с сайта \(см. меню "Настройки и администрирование - Обмен с сайтом - История импорта с сайта"\).

* В настройках ценообразования на внешние остатки поставщиков добавлена возможность копировать настройки одного поставщика другому.
* В некоторые объекты метаданных добавлены управляемые формы списка и выбора.

### Изменено:

* Если в системе была настроена отправка электронного письма пользователю о новом заказе с сайта и было указано, что необходимо отправлять копию менеджеру, то в том случае, когда у пользователя не было адреса электронной почты, письмо не отправлялось. Теперь даже в этом случае письмо отправляется менеджеру. 

### Исправлено:

* Настройки прав на некоторые объекты.
* Исправлена ошибка формирования транслитом при записи номенклатуры в форме элемента.
* Если одна и та же номенклатура попадала в разные настройки отбора разрешенной или запрещенной номенклатуры в рамках одного и того же домена и роли, то списки разрешенной или запрещенной номенклатуры не могли обновиться.
* Флаг "Отключено" в правилах настройки ценообразования по сегментам не применялся на стороне сайта.
* В форме списка товаров в закладках не отображались товары. 

### Удалено:

* Нет.

## Версия 2.4.10.0 от 28.06.2019

**Минимальная версия для обновления: 2.4.9.0**

**Главное**

* Если вы пользуетесь розничными складами и показываете их на сайте \(т.е. в справочнике “Склады” указан тип “Розничный”\), то нужно иметь ввиду следующее:

  У договоре контрагента изменился смысл флажка “Запретить продажу товаров в рознице по условиям договора”. Раньше это флаг означал, что для всех розничных складов, доступных на сайте:

  * При выключенном флаге действует тип цен, указанный в договоре покупателя.
  * При включенном флаге действовала розничная цена склада.

* Теперь флаг называется “Разрешить продажу товаров в рознице по типу цен договора” и действует так:
  * При выключенном флаге действует розничная цена склада
  * При включенном флаге действует тип цен, указанный в договоре покупателя
* При обновлении реквизит в договорах клиентов будет инвертирован. Т.е. прежнее поведение определения цен клиента для розничных складов на сайте сохранится.
* Добавлена функциональность закладок номенклатуры для пользователя сайта.

### Добавлено:

* Для пользователя на сайте появилась возможность создавать и редактировать закладки для номенклатуры.
* Добавлена возможность произвольной сортировки для нескольких контролов.

### Изменено:

* Изменено поведение флага в договоре:
  * старое значение было "Запретить продажу товаров в рознице по условиям договора"
  * новое значение стало "Разрешить продажу товаров в рознице по типу цен договора"
* Подчиненные элементы справочника "Контролы" помечаются на удаление или становятся не помеченными на удаление при изменении пометки удаления у контрола, а не при записи контрола.
* Проверка на соответствие включенного безопасного подключения в домене и адреса сервиса обмена с сайтом проводится при изменении флажка "Использовать https", а не при записи домена.- 

### Исправлено:

* При входе в базу без полных прав при не до конца законченном обновлении возникала ошибка.
* При записи страницы сайта для нее автоматически не создавался тег "title".
* При загрузке начальных данных не обновлялся \(или не создавался\) запрос для табличных частей документа "Заказ покупателя".
* Срок доставки от поставщика до склада не регистрировался в системе, если для поставщика не был указан график выдачи.
* Не создавалось новое свойство для номенклатуры.
* В некоторых случаях могли неправильно разворачиваться группы доступности складов по настройкам групп доступности. При обновлении будет выполнен автоматический пересчет групп доступности складов.

## Версия 2.4.9.3 от 05.04.2019

**Минимальная версия для обновления: 2.4.8.0**

**Главное**

* Добавлена возможность разбивать прайсы на отдельные файлы по складам.
* Исправлены выявленные ошибки.

### Добавлено:

* Появилась возможность разбивать отправку прайсов с сайта на отдельные файлы для разных складов.
  * Добавлена общая настройка в справочнике "Настройки отправки прайс-листов".
  * Добавлена индивидуальная настройка в регистре сведений "Настройки отправки прайс-листов пользователей".

### Изменено:

* Для провайдера TecDoc ABCP теперь обязательно указание адреса получения данных TecDoc \(можно указать фиктивный, если от этого провайдера планируется использовать только кроссы\).

### Исправлено:

* Если в базе уже существовало несколько номенклатур с одинаковым наименованием транслитом, то при попытке переименовать такую номенклатуру возникала ошибка.
* При обновлении начальных данных объекты, снятые с поддержки могли быть снова установлены на поддержку и обновлены до данных релиза.
* При попытке редактирования без предварительного выделения текста в редакторе HTML возникала ошибка.
* При записи номенклатуры из формы элемента наименование в URL изменялось, если было изменено наименование номенклатуры.
* История изменения html-текстов больше не блокирует удаление зависимых объектов.
* В форму списка настроек ценообразования на внешние остатки добавлен покупатель \(раньше покупателя можно было увидеть только в форме записи\).
* Настройки провайдера TecDoc в роли пользователя сайта не участвовали в обмене.
* При изменении приоритета правила ценообразования очищалось уточнение по покупателю в правиле.
* Был ошибочно поставлен к удалению реквизит роли пользователя "Настройка видов оплат.
* Не удалялась номенклатура из состава сегмента при обмене изменениями.

### Удалено:

* Нет.

## Версия 2.4.9.2 от 13.03.2019

**Минимальная версия для обновления: 2.4.8.0**

**Главное**

* Наименования транслитом для всех объектов теперь не меняются автоматически, если они были установлены.
* Появилась возможность добавлять водяной знак к изображениям номенклатуры и характеристик номенклатуры.

### Добавлено:

* В группе каталога сайта появилась возможность не учитывать родителей при формировании наименования транслитом \(флажок "Использовать только свое наименование при формировании наименования в URL"\).
* В группе каталога сайта появилась возможность пропускать часть родителей при формировании наименования транслитом \(флажок "Исключать из наименования в URL у подчиненных групп"\).
* В справочник "Домены" добавлена закладка "Водяной знак" с настройками наложения водяного знака на изображения номенклатуры и характеристик номенклатуры.
* В механизм ценообразования на внешние остатки поставщиков добавлена возможность устанавливать фильтр по покупателю.
* Для дерева, производителей, видов и типов внешнего каталога добавлено поле "Комментарий".
* В настройках провайдеров TecDoc добавлены реквизиты для поддержки провайдера ABCP.
* Добавлены новые возможности в справочнике "Переменные в заголовках страниц":
  * Артикул/поисковая строка для страницы результатов поиска.
  * Бренд для страницы результатов поиска.
  * Поисковая строка для страницы уточнения поиска.
  * Флаги пагинации.

### Изменено:

* Наименования транслитом для всех объектов теперь не меняются автоматически, если они были установлены.
  * Каталог сайта
  * Страницы и переменные
  * Картинки
  * Номенклатура
  * Характеристики номенклатуры
  * Хранилище дополнительной информации
  * Свойства объектов
  * Информационные блоки
* В этих объекта у реквизита "Наименование в URL" появилась кнопка, которая позволяет принудительно переформирование наименование транслитом.
* При необходимости массово изменить наименование транслитом \(например, при автоматическом переименовании номенклатуры\) для объекта в свойстве объекта "ДополнительныеСвойства" необходимо добавить свойство "ИзменятьСуществующееНаименованиеВURL" и установить его значение равным "Истина". 
* Для групп каталога сайта те части наименования, которые наследовались от родителя теперь берутся не из полного наименования, а из наименования транслитом родителя.

### Исправлено:

* При контроле уникальности артикула и бренда в кроссах номенклатуры ошибочно учитывались позиции с пустым брендом.
* Исправлены синонимы некоторых объектов.
* Исправлена ошибка отображения разрешенной номенклатуры в панели управления сайтом.
* При перезаписи единицы измерения при следующем обмене единица измерения удалялась с сайта.
* При автоматическом закрытии корзин могли создаваться корректировки на заказы не в статусе "Корзина".  

### Удалено:

* Нет.

## Версия 2.4.9.1 от 08.02.2019

**Минимальная версия для обновления: 2.4.8.0**

**Главное**

* Улучшения внутренних механизмов.
* Увеличение удобства использования.

### Добавлено:

* В форме элемента и в форме списка справочника "Хранилище дополнительной информации" появилось отображение реквизита "Наименование в URL".
* В тестовом режиме для некоторых контролов добавлена возможность пользовательской сортировки списков.
* Для списка контролов появился признак "Устарел" и реквизит "Планируемая дата снятия с поддержки". Контролы с таким признаком будут сняты с поддержки, когда для контрола будет указана планируемая дата.
* При включение в домене флага использования https для сайта будет предложено изменить адрес сервиса обмена с сайтом.
* В форме настроек логистики складов зачеркиваются склады, помеченные на удаление.
* В форме настроек правил ценообразования добавлена форма просмотра всех правил одновременно.

### Изменено:

* При создании заказа поставщика из внешних остатков \(веб-сервисы или виртуальный склад\) используется ставка НДС 20%.
* В том случае, если в корзине на стороне 1С был изменен пользователь, то при обмене пользователь снова изменится на предопределенного пользователя "Сайт" \(раньше в таких случаях обмен завершался с ошибкой"\). Запись о том, что пользователь изменился добавится к полю "Комментарий с сайта".
* Изменена обработка обновления начальных данных.
* Во всех объектах начальных данных появились возможности:
  * Сравнить объект с релизной версией.
  * Вернуть объект к релизной версии с постановкой на поддержку.
* Названия регламентных заданий приведены к одному виду.
* Улучшена форма настройки Zeta Web.
* Улучшена форма списка справочника "Кроссы".
* Синонимы объектов метаданных приведены к одному виду.

### Исправлено:

* Исходный артикул при создании кроссов в некоторых случаях не записывался.
* При ручном формировании поисковой строки из групп синонимов поисковая строка ошибочно формировалась из наименования группы синонимов, а не из списка синонимов.
* При выборе бренда в качестве основания для подбора в группе синонимов не формировалась поисковая строка.
* При выборе платежной системы "Яндекс" с новой версией API были недоступны некоторые настройки.
* Было возможно указать несколько ролей для пользователя сайта, хотя объединение ролей системой не поддерживается.
* Списки разрешенной и запрещенной номенклатуры отображались некорректно.
* Если в поле телефон в сообщении с сайта пользователь использовал более 20 символов, то это могло приводить к ошибке обмена с сайтом. 

### Удалено:

* Отображение в форме справочника "Номенклатура" устаревшего реквизита "Применяемость строкой".
* В панели управления сайтом удалена устаревшая команда "Заполнить контрагентов пользователя по основному менеджеру".

## Версия 2.4.9.0 от 23.12.2018

**Минимальная версия для обновления: 2.4.8.0**

**Главное**

* Поддержка работы с несколькими внешними провайдерами \(провайдер TecDoc ABCP, внешний каталог ACP\).
* Поддержка нового API Яндекс.Касса 3.0, с возможностью передачи дополнительных параметров, требуемых ФЗ-54 \(ФФД 1.05\).

### Добавлено:

* В настройках подключения \(меню Zeta Web - Настройки и администрирование - Настройки интеграции с внешними системами - Настройки веб-сервисов и внешних каталогов автозапчастей\) добавлена ссылка на настройки подключений к внешним провайдерам.
* При импорте заказа покупателя появилась возможность в переопределяемом модуле отказаться от корректировки размещений и от создания заказов поставщику на заказы с внешних складов.
* В справочнике "Роли пользователей Zeta Web" добавлен реквизит "Настройки видов оплат".
* В журнале отправки сообщений добавлена дата последнего события по сообщению.
* Основной склад отгрузки теперь определяется в порядке возрастания приоритета:
  * в константе "Основной склад отгрузки";    
  * В пользователе сайта;
  * В контрагенте;

### Изменено:

* Улучшено юзабилити некоторых форм.

### Исправлено:

* Некоторые синонимы неиспользуемых элементов приведены к стандартному виду.

### Удалено:

* Нет.

## Версия 2.4.8.5 от 28.11.2018

**Минимальная версия для обновления: 2.4.7.0**

**ВНИМАНИЕ! Новый механизм хранения данных о разрешенной и запрещенной номенклатуре не предусматривает конвертацию данных. См. описание к порядку обновления для релиза 2.4.8.3**

**Главное**

* Небольшие изменения и улучшения.

### Добавлено:

* Регламентное задание обновления групп доступности складов.
* Регламентное задание обновления складов поставщиков.

### Изменено:

* При обновлении групп доступности складов по настройкам доступности, относящимся к товарам в пути из групп доступности автоматически убираются те заказы поставщикам, которые полностью закрыты.
* Изменены названия регламентных заданий, относящихся к Zeta Web для того, чтобы они шли по порядку в консоли заданий.

### Исправлено:

* Исправлены некоторые синонимы объектов конфигурации.

### Удалено:

* В справочнике "СайтПользователи" подготовлен к удалению неиспользуемый реквизит "Регион".

## Версия 2.4.8.4 от 06.11.2018

**Минимальная версия для обновления: 2.4.7.0**

**ВНИМАНИЕ! Новый механизм хранения данных о разрешенной и запрещенной номенклатуре не предусматривает конвертацию данных. См. описание к порядку обновления для релиза 2.4.8.3**

**Главное**

* Добавлена поддержка эквайринга Сбербанка на стороне сайта.

### Добавлено:

* Добавлена поддержка эквайринга Сбербанка на стороне сайта \(см. меню Zeta Web - Настройки и администрирование - Настройки оплаты, прайс-листы, YML - Настройки платежных систем\).

### Изменено:

* Нет.

### Исправлено:

* Регламентное задание обновления списков разрешенной и запрещенной номенклатуры не могло запуститься.

### Удалено:

* Нет.

## Версия 2.4.8.3 от 26.10.2018

**Минимальная версия для обновления: 2.4.7.0**

**ВНИМАНИЕ! Новый механизм хранения данных о разрешенной и запрещенной номенклатуре не предусматривает конвертацию данных. См. описание к порядку обновления.**

**Главное**

* Списки разрешенной и запрещенной номенклатуры теперь настраиваются в разрезе номенклатуры, а не групп номенклатуры.
* В подсистему отправки сообщений добавлена поддержка SMS и журнал сообщений для просмотра и контроля за отправкой сообщений.

### Добавлено:

* Справочник "Настройки заполнения разрешенной и запрещенной номенклатуры". Списки разрешенной и запрещенной номенклатуры теперь настраиваются в разрезе номенклатуры \(см. см. меню "Zeta Web - Каталог и товары - Настройки разрешенной и запрещенной номенклатуры"\).
* Списки разрешенной и запрещенной номенклатуры могут обновляться по настройкам заполнения регламентным заданием.
* Для справочника "Меню" контент меню перенесен из поля "Наименование" в поле "Контент". Т.е. теперь контент меню не ограничен 150 символами.
* Добавлена отправка SMS в подсистеме отправки сообщений \(см. меню ZetaWeb - Сообщения \(эл. почта и SMS\)\).
  * Отправка SMS поддерживается для событий:
    * Новый заказ покупателя.
    * Новое сообщение с сайта.
  * Поддерживаемые провайдеры:
    * GSM-INFORM
    * SMS.RU
    * SMS-ЦЕНТР
    * Билайн
    * МТС
    * СМС-Услуги
    * IQ SMS
* Добавлен журнал отправки сообщений, который позволяет просматривать события, по которым предусматривается отправка сообщений и контролировать отправку \(см. меню ZetaWeb - Сообщения \(эл. почта и SMS\)\).
* Можно задать список адресов электронной почты, на которые должны приходить скрытые копии писем из подсистемы сообщений через точку с запятой.
* Телефоны, на которые будут приходить SMS о новых сообщениях с сайта можно задать через точку с запятой.  
* В модулях импорта объектов с сайта для заказа покупателя добавлены функции, в которых можно переопределить поведение при импорте заказа не затрагивая типовую функциональность импорта.
* В табличной части "Товары" в документе "Заказ покупателя" добавлена колонка "Поставщик" \(заполняется, если размещение - это заказ поставщику\).
* В панели управления сайтом в списке контрагентов пользователя сайта добавлено цветовое кодирование строк:
  * Красный:
    * Контрагент помечен на удаление;
    * Основной договор контрагента помечен на удаление;
    * Тип цен в основном договоре контрагента не заполнен;
  * Желтый
    * У контрагента не указан основной договор;

### Изменено:

* Списки разрешенной и запрещенной номенклатуры теперь настраиваются в разрезе номенклатуры \(см. см. меню "Zeta Web - Каталог и товары - Настройки разрешенной и запрещенной номенклатуры"\).
* В модуле обычного приложения убрана перезапись регламентных заданий при запуске под полными правами.
* Настройки доставки от поставщика, между складами и со складов в регионы в настройках обмена теперь всегда включены или выключены одновременно \(автоматически, при записи настройки обмена\).
* Изменен способ определения подразделения для заказов, которые созданы на сайте. Раньше подразделение проставлялось из настройки предопределенного пользователя "Сайт", теперь, если настройка у пользователя "Сайт" не заполнено, подразделение будет взято из склада \(реквизита "СкладГруппа"\) в заказе покупателя.
* Изменена форма настройки отправки сообщений.

### Исправлено:

* Если имя информационной базы не совпадало с именем информационной базы, указанной в настройках обмена, то обмен все равно пытался загрузить данные с сайта.
* При проверке совпадения имени информационной базы с именем информационной базы из настройки обмена для файловой базы неверно определялось имя базы.
* При импорте заказа с сайта, в котором остатки были размещены в новом виртуальном складе, мог не создаваться заказ поставщику по поставщику виртуального склада.
* При импорте настроек рассылки прайс-листов с сайта не заполнялся формат файла.

### Удалено:

* В справочнике "Роли \(Zeta Web\) удалены неиспользуемые реквизиты:
  * Не контролировать дебиторскую задолженность под менеджером.
  * Разрешить статус "Ожидает оплаты".
  * Настройки видов оплат.

## Версия 2.4.8.2 от 14.09.2018

**Минимальная версия для обновления: 2.4.7.0**

**Главное**

* Переработана подсистема создания синонимов поиска для номенклатуры.
* Улучшены формы некоторых справочников и документов.

### Добавлено:

* Нет.

### Изменено:

* Улучшена работа подсистемы по созданию синонимов поиска для номенклатуры:
  * Управление сведено в одну обработку \(см. меню "Zeta Web - История, синонимы поиска - Подбор групп синонимов к номенклатуре"\)
  * Замена синонимов теперь осуществляется по точному совпадению слова, а не по вхождению в слово.
* Ускорено открытие html-текстов во встроенном редакторе html.
* Документы, созданные на сайте, гарантированно проводятся в порядке создания.
* Улучшена форма элемента справочника "Номенклатура".
* Улучшена форма документа "Заказ покупателя".
* Улучшена форма элемента справочника "Шаблоны контролов".
* Улучшены формы элементов и списка справочника "Статистика запросов артикулов".

### Исправлено:

* Ошибка в расчете времени доставки на склад-получатель в подсистеме логистики.
* При ручном добавлении номенклатуры в каталог возникала ошибка.
* Если для учетной записи электронной почты, от которой отправляется письмо из системы отправки уведомлений была задана подпись, то она попадала в начало письма, а не в конец.
* Если в справочнике брендов была "битая" ссылка, то расчет количества номенклатуры по бренду останавливался с ошибкой.

### Удалено:

* В справочнике "Номенклатура" удален реквизит "Группа синонимов".
* В справочнике "Бренды" удален реквизит "Группа синонимов".

## Версия 2.4.8.1 от 20.08.2018

**Минимальная версия для обновления: 2.4.7.0**

**Главное**

* Добавлена возможность управлять URL картинок из внешних каталогов.
* Исправлены выявленные ошибки.

### Добавлено:

* Добавлена возможность управлять URL картинок, которые загружаются из внешних каталогов \(см. справочник "Настройки подключения каталогов автозапчастей", закладка картинки\).
* Добавлена возможность сортировки информационных блоков \(см. Меню - ZetaWeb - Наполнение \(контент\) - Новости \(информационные блоки\) - Управление сортировкой информационных блоков\).
* Добавлена обработка поиска объектов по уникальному идентификатору и чтения уникальных идентификаторов объектов \(см. Меню - ZetaWeb - Настройки и администрирование - Поиск объектов по УИД\).

### Изменено:

* Ускорена запись метатегов по расширенной настройке.
* Улучшена диагностика проблем при загрузке начальных данных.
* Для справочника "Меню \(сайт\)" длина наименования увеличена до 150 символов.
* Для справочника "Пользователи сайта" длина кода увеличена до 50 символов.
* Улучшена диагностика отправки писем по новым заказам покупателя. 

### Исправлено:

* Исправлена ошибка загрузки новых контрагентов с сайта \(возникала, если новые контрагенты регистрировались в тот момент, когда обмен в сторону 1С из сайта выполнялся, а из 1С на сайт нет\).
* В некоторых случаях ошибочно удалялась регистрация для объектов обмена, обмен которыми происходил с ошибкой.
* При записи группы справочника для тех справочников, для которых применяется транслитерация, могла возникать ошибка записи.
* Для объекта обмена "Группы страниц баннеров" и подчиненной табличной части не выполнялся обмен изменениями.
* При добавлении изображения для номенклатуры в списке изображений наименование изображения по наименованию номенклатуры появлялось при окончании редактирования строки, а не перед началом редактирования.

### Удалено:

* Нет.

## Версия 2.4.8.0 от 24.07.2018

**Минимальная версия для обновления: 2.4.7.0**

**Главное**

* Добавлена возможность управлять перекроссировками брендов.
* Добавлена возможность создавать шаблоны писем для автоматической отправки.

### Добавлено:

* Появилась возможность указывать кросс-бренды для основных брендов \(ЗетаСофт - ZetaWeb - Каталог и товары - Бренды, кнопка "Работа с дублями"\).
* Появилась возможность настраивать шаблоны писем для автоматической отправки \(ЗетаСофт - ZetaWeb - Сообщения \(эл. почта и SMS\)\).
  * Автоматическая отправка писем поддерживается для следующих событий:
    * "Новый заказ покупателя".
    * "Новое сообщение \(запрос\) с сайта"
  * Временно не поддерживается:
    * Отправка SMS
    * Отправка писем по событию: "Измененный заказ покупателя".
* В справочнике "Шаблоны контролов" появилась возможность отказаться от форматирования шаблона.
* В справочнике домены появилась возможность указать корневую группу основного каталога \(каталога, по которому будут строится хлебные крошки, чтобы раскрывать узлы каталога для номенклатуры, которая входит в несколько каталогов\).
* В форму списка и форму выбора справочника "Номенклатура" выведен реквизит "Бренд".
* При добавлении изображения для справочника "Номенклатура" в поле "Наименование" для изображения подставляется наименование номенклатуры.
* В форме настройки Zeta Web появилась возможность переформировать наименование в URL для справочника "Хранилище дополнительной информации".
* HTTP-сервис ZetaAPI, на текущий момент предназначен для интеграции с "Виртуальным складом 3".
* В списке справочника "Объекты обмена" появилась возможность получить описание таблицы так, как она представлена на сайте \(кнопка "Получить описание таблицы на сайте"\).
* В дереве настроек обмена в карточке настройки обмена двойной щелчок по объекту обмена открывает карточку объекта обмена. 

### Изменено:

* Настройки обмена с сайтом перенесены в меню "ЗетаСофт - ZetaWeb - Настройки и администрирование - Обмен с сайтом".
* Изменена форма элемента справочника "Контролы" \(адаптирована к экранам с маленькой высотой\).
* При импорте заказа покупателя, который сделан зарегистрированным пользователем, реквизиты "ФИО розничного покупателя", "Телефон розничного покупателя" и "Почта розничного покупателя" заполняются по данным пользователя, который сделал заказ \(раньше они заполнялись, только если заказ был сделан пользователем без регистрации\).
* При импорте сообщения \(запроса\) с сайта, которое отправлено зарегистрированным пользователем, реквизиты "Email" и  "Телефон заполняются по данным пользователя, который отправил сообщение.

### Исправлено:

* Ошибочно не сохранялись значения настроек обмена с сайтом, если после изменения настроек нажать кнопку "Проверка подключения".
* Включено ограничение на 2 уровня иерархии для справочника "Типовые параметры контролов".
* Отображение пометки удаления в списке кроссов в форме элемента справочника "Номенклатура".
* Обновление состава элементов страниц в расширенной настройке метатегов больше не изменяет текст страницы.
* В настройках разрешенной и запрещенной номенклатуры нельзя было выбрать роль.
* Поле "Сайт \(порядок сортировки\)" в справочнике "Номенклатура" приведено к числу. При обновлении фоновым заданием будет произведена перезапись всех элементов справочника "Номенклатура".
* Если между сеансами обмена с сайтом на сайте регистрировалось несколько контрагентов, могла возникать ошибка в обмене при импорте контрагентов.
* Если при редактировании текста в html редакторе закомментировать весь текст тегом комментария, то весь текст пропадал.
* Если у объекта обмена с типом "Табличная часть" родительский объект обмена был помечен, как не участвующий в обмене, то обмен табличной частью не выполнялся.
* В некоторых случаях при заказе виртуального товара на сайте создавались лишние заказы поставщикам.
* При копировании элемента справочника "Внешний каталог \(модели\)" очищается идентификатор модели.
* * При копировании элемента справочника "Внешний каталог \(типы\)" очищается идентификатор типа.
* Если у склада не было задано расписание по дням недели в настройках логистики, то время получения, отличное от 23:59:59 записывалось в настройках, учитывалось при расчете сроков, но не отображалось на форме настройки. 

### Удалено:

* В форме настроек ZetaWeb удалены закладки:
  * "Обмен данными" \(настройки обмена с сайтом перенесены в меню "ЗетаСофт - ZetaWeb - Настройки и администрирование - Обмен с сайтом"\).
  * "Контроль обмена" \(устаревшая функциональность\).
* Удалена конвертация при изменении данных устаревших структур данных \(не используемых в версии 2.4\):
  * Базовые скидки наценки контрагентов.
  * Правила цен виртуального склада
  * Группы доступностей складов пользователей
  * Удаленность поставщиков.

## Версия 2.4.7.1 от 29.05.2018

**Минимальная версия для обновления: 2.4.4.42**

**ВНИМАНИЕ! Обмен версии 1 удален. Перед обновлением необходимо перейти на обмен версии 2 \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**Главное**

* Изменена структура главного меню.

### Добавлено:

* Изменена структура главного меню:
  * Уменьшено количество уровней вложенности.
  * Увеличено количество разделов первого уровня. 
* Автоматическое снятие флагов для объектов обмена, относящихся в подсистеме "Виртуальный склад вер. 1", если эта подсистема не установлена.
* Принудительная очистка каталога с временными файлам обмена перед каждым обменом.
* Пересчет цены в ценообразовании по сегментам из валюты управленческого учета в валюту документа.

### Изменено:

* Нет

### Исправлено:

* Конвертация основного склада отгрузки при переходе со старых версий.
* При расчете цены по сегментам номенклатуры, при отсутствии правила теперь возвращается исходная цена, а не нулевая.
* Ошибка, связанная с расчетом цены по сегменту при выборе номенклатуры в заказе поставщику.
* Ошибки в форме установки правил ценообразования по сегментам.

### Удалено:

* Нет.

## Версия 2.4.7.0 от 24.04.2018

**Минимальная версия для обновления: 2.4.4.42**

**ВНИМАНИЕ! Обмен версии 1 удален. Перед обновлением необходимо перейти на обмен версии 2 \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**Главное**

* Добавлена возможность указать скидки \(наценки\) для покупателей на произвольные сегменты номенклатуры.

### Добавлено:

* Возможность указать скидки \(наценки\) для покупателей на произвольные сегменты номенклатуры \(ЗетаСофт - Zeta Web - Каталог и продажи - Ценообразование - Ценообразование по сегментам номенклатуры покупателей\). Принцип работы ценообразования по сегментам следующий:
  * Номенклатура делится на произвольное количество сегментов \(состав сегмента может быть заполнен по схеме СКД, состав сегментов может обновляться регламентным заданием\)
  * Для для номенклатуры, входящей в сегменты могут быть настроены скидки \(наценки\) как для всех покупателей и договоров покупателей в целом, так и для каждого покупателя и договора покупателя в отдельности.
  * Скидка применяется к цене по договору покупателя в том случае, если на нее не были применены другие скидки.

### Изменено:

* В регистре сведений "Связь номенклатуры и узлов" измерения "Узел" и "Номенклатура" стали обязательными. 

### Исправлено:

* Ошибка при создании заказов поставщиков, при импорте заказов покупателей с размещением на виртуальном складе.
* Ошибка получения складов поставщиков виртуального склада.
* Наименование поля "Выпускает грузовые автомобили" в справочнике "Внешний каталог \(Производители\)".

### Удалено:

* Нет.

## Версия 2.4.6.0 от 13.04.2018

**Минимальная версия для обновления: 2.4.4.42**

**ВНИМАНИЕ! Обмен версии 1 удален. Перед обновлением необходимо перейти на обмен версии 2 \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**Главное**

* Добавлена возможность работы с метатегами страниц и основных объектов \(каталога, номенклатуры и т.п\).

### Добавлено:

* Возможность работы с метатегами страниц, каталога сайта, номенклатуры, информационных блоков, марок, моделей, модификаций и узлов \(ЗетаСофт - Zeta Web - Наполнение сайтов - SEO - Управление метатегами\).
  * Поддерживаются два режима заполнения, простой и расширенный. В простом режиме можно указать метатеги для страниц, используя небольшое количество предопределенных переменных. В расширенном режиме можно заполнить метатеги для страниц, используя любые данные, которые можно получить запросом из базы данных.
* В начальные данные включены основные метатеги \(в том числе, метатеги Open Graph\) \(см. ЗетаСофт - Zeta Web - Наполнение сайтов - SEO - Управление метатегами - Метатеги\) и переменные, которые можно использовать для метатегов в заголовках страниц \(см. ЗетаСофт - Zeta Web - Наполнение сайтов - SEO - Управление метатегами - Переменные в заголовках страниц\). 
* Возможность проверки подключения при настройке подключения к виртуальному складу версии 3.

### Изменено:

* Для единицы измерения с кодом 796 \(штука\) в классификаторе единиц измерения принудительно устанавливается международный код "PCE" для того, чтобы при создании новой номенклатуры на стороне сайта не дублировались единицы измерения.
* При запуске контролируется наличие узла плана обмена "Статусы строк заказов".
* Переработаны формы элементов и списков справочников "Внешний каталог \(производители\)", "Внешний каталог \(модели\)", "Внешний каталог \(типы\)", "Внешний каталог \(дерево узлов\)".
* Справочник "Каталог сайта" отображается по умолчанию в свернутом виде. 

### Исправлено:

* Логирование ошибок при загрузке заказа покупателя.
* Ошибка формирования документа "Возврат товаров от покупателя" при заполнении на основании заявки на возврат, оформленной на сайте.
* Ошибка загрузки табличных частей документов при импорте с сайта \(в некоторых случаях табличные части не загружались\).
* При создании нового регламентного задания обмена с сайтом задание создается с пользователем "Сайт".

### Удалено:

* Метатеги, которые заполнялись как реквизиты объектов больше не используются \(справочники "Страницы", "Номенклатура", "Каталог сайта", документ "Информационный блок"\). Данные из этих полей перенесены в регистр "Значения метатегов объектов".
* Удалены реквизиты справочника "Пользователи сайта":
  * Высылать счет по электронной почте, после подтверждения корзины
  * Отображать счет на сайте, после подтверждения корзины.
* Удалено большое количество предопределенных элементов в справочнике "Метатеги".

## Версия 2.4.5.0 от 16.03.2018

**Минимальная версия для обновления: 2.4.4.42**

**ВНИМАНИЕ! Обмен версии 1 удален. Перед обновлением необходимо перейти на обмен версии 2 \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**ВНИМАНИЕ! В следующем релизе в справочнике "Номенклатура" будет удалено поле "Дополнительная информация"**

**Главное**

* Удален обмен версии 1.
* Удалены неиспользуемые объекты.

### Добавлено:

* В панели управления сайтом на закладке "События-Новые заказы" добавлена кнопка снятия фильтра по периоду "За все время". 
* В панели управления сайтом на закладке "События-Новые заказы" фильтр по периодам по кнопкам "За день", "За неделю", "За месяц", "За все время" теперь запоминается и восстанавливается при следующем открытии панели управления сайтом.
* Для настройках домена появилась возможность указать произвольный текст не только после открывающего тэга body, но и перед закрывающим тэгом body. 

### Изменено:

* Поведение флагов "Скрыть заказы созданные в 1С" и "Скрыть корзины пользователей" теперь работает следующим образом: заказами, созданными в 1С считаются все заказы, у которых не заполнен реквизит "Статус \(статус заказа на сайте"\).
* Улучшена диагностика правильности запросов обмена с сайтом.
* При записи номенклатуры без режима ОбменДанными.Загрузка = Истина сразу формируется наименование в URL.

### Исправлено:

* Слишком длинное имя файла обмена для объектов с большим количеством подчиненных объектов.
* Возможность добавления собственного параметра в управляемой форме справочника "Контролы".
* Очистка реквизита "Наименование в URL" при копировании номенклатуры.

### Удалено:

* Удален обмен версии 1.
* Удалено большое количество устаревших объектов метаданных.

## Версия 2.4.4.42 от 19.02.2018

**Минимальная версия для обновления: 2.3.1.0**

**ВНИМАНИЕ! В одной из ближайших версий ZetaWeb планируется удаление обмена версии 1. Рекомендуем вам запланировать переход на обмен версии 2 в ближайшее время \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**Главное**

* Исправлены выявленные ошибки.

### Добавлено:

* Возможность включения и выключения отложенной транслитерации номенклатуры \(ZetaWeb-Настройки и администрирование-Настройки ZetaWeb-Наименования транслитом\). 

### Изменено:

* Изменен принцип поиска номенклатуры, заказанной на внешних складах \(через веб-сервисы WSG или через Виртуальный склад вер. 3\).

### Исправлено:

* Импорт заказов с сайта.
* Отмена регистрации изменений при длительных обменах.
* Отложенная транслитерация номенклатуры.
* Расширение поисковой строки при использовании обмена вер. 2.

### Удалено:

* Нет.

## Версия 2.4.4.41 от 06.02.2018

**Минимальная версия для обновления: 2.3.1.0**

**ВНИМАНИЕ! В одной из ближайших версий ZetaWeb планируется удаление обмена версии 1. Рекомендуем вам запланировать переход на обмен версии 2 в ближайшее время \(см. инструкцию по обновлению к версии 2.4.4.40\)**

**Главное**

* Добавлена возможность импортировать склады из Виртуального склада \(редакции 3.0\), для управления подсветкой и доступностью.

### Добавлено:

* Импорт складов поставщиков из Виртуального склада вер.3 \(версия Виртуального склада не ниже 3.0.0.5, версия подсистемы "Веб-сервисы РММ" не ниже 1.2.2.х\), см. меню "ЗетаСофт-ZetaWeb-Настройки и администрирование-Настройки интеграции с внешними системами-Параметры подключения к виртуальному складу\).
* Автоматическое создание необходимого узла обмена для подсистемы статусов строк заказов.
* В настройки рассылки прайсов пользователей сайта появилась возможность включать архивацию файлов. 

### Изменено:

* Обновлена библиотека работы с веб-сервисами WSG.
* Формы списков и выбора справочников внешних каталогов заменены на управляемые.

### Исправлено:

* Хранение истории транслитерации объектов.

### Удалено:

* Нет.

## Версия 2.4.4.40 от 25.01.2018

**Минимальная версия для обновления: 2.3.1.0**

**ВНИМАНИЕ! В одной из ближайших версий ZetaWeb планируется удаление обмена версии 1. Рекомендуем вам запланировать переход на обмен версии 2 в ближайшее время \(см. инструкцию по обновлению\)**

**Главное**

* Появилась возможность обмениваться таблицами любых размеров в полном обмене и в обмене изменениями.

### Добавлено:

* В обмене версии 2 добавлена возможность устанавливать разделители обмена для полного обмена и обмена изменениями для того, чтобы можно было обмениваться с сайтом таблицами любого размера.
* В обмене версии 2 появилась возможность выполнить обмен с дополнительным экранированием служебных символов XML. Настройка доступна в справочнике "Настройки обмена" - "Служебные параметры" - "Удалять некорректные символы". Эту настройку нужно включить, если при обмене не удается прочитать файл обмена и выключить после того, как обмен пройдет без ошибок \(включенная настройка замедляет чтение файлов обмена\). 
* Настройки обмена с сайтом вынесены в отдельную форму \(доступны из вкладки "Обмен с сайтом" панели управления и из формы настроек ZetaWeb\)
* Расширены проверки корректности настроек обмена версии 2.
* Добавлена возможность отслеживания количества новых сообщений или ответов, непрочитанных пользователем.
* Добавлена возможность установить использование протокола https в панели управления сайтом.

### Изменено:

* Цвет поля "Статуса заказа покупателя на сайте" изменен со светло-золотистого на золотистый.
* Изменена форма лога обмена с сайтом.
* Возможность использования имени домена без префикса "www" в качестве основного доменного имени.

### Исправлено:

* Ошибки регистрации изменений для независимых регистров сведений в обмене версии 2.
* Ошибка записи CSS класса.
* Ошибка, возникающая при обмене с другими конфигурациями \(например, Бухгалтерия предприятия\) через внешнее соединение.
* Ошибка округления нулевой цены \(при округлении в большую сторону нулевая цена округлялась до порядка округления\)

### Удалено:

* Нет.

## Версия 2.4.4.1 от 18.12.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Добавлена возможность загрузки начальных данных при режиме совместимости конфигурации начиная с 8.3.3.
* В обработке "Настройка логистики" появилась возможность добавить всех поставщиков в форму настройки и скрыть поставщиков, которые уже настроены \(см. закладку "Возможность доставки от поставщиков", кнопки "Заполнить всеми поставщиками", "Скрыть заполненных поставщиков"\). 

### Изменено:

* Форма справочника "Контролы".

### Исправлено:

* Ошибка записи группы справочника контрагенты.
* Формирование статусов строк заказов, если коэффициент для товара в табличной части "Товары" в документе "Заказ покупателя" или "Реализация товаров и услуг" по каким-то причинам ошибочно равен нулю.
* Удаление лога обмена с сайтом при сжатии и удалении периодических данных.
* Ссылочные объекты не регистрировались для обмена с сайтом в обмене вер. 2 при непосредственном удалении.
* Ошибка при создании раздела каталога сайта, привязанного к категории.
* Поле "Исходный артикул" в справочнике кроссов теперь всегда заполняется.
* При настройке оплаты и доставки больше нет возможности не указать поставщика услуги доставки.

### Удалено:

* Нет.

## Версия 2.4.4.0 от 29.11.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Автоматическое заполнение основного склада отгрузки контрагента для заказов с сайта складом по умолчанию \(в панели управления на закладке "Склады" есть возможность установить или изменить этот склад\).
* В подсистеме "Расчет сроков доставки" появилась возможность указать основной склад отгрузки для региона \(используется на сайте для расчета срока доставки до региона контрагента\). Поле "Склад" для региона в форме "Настройки логистики" на закладке "Возможность доставки в регионы", гиперссылка "Открыть настройки региона"
* В подсистеме "Расчет сроков доставки" появилась возможность указать, что внешний поставщик передает срок доставки до склада компании, а не до своего склада \(например, поставщик, подключенный через веб-сервис, указывает срок доставки для нашего склада\). Флажок "Возвращает срок доставки до нашего склада" в форме "Настройки логистики" на закладке "Графики доставки от поставщика", гиперссылка "Открыть настройки поставщика"  

### Изменено:

* Настройка срока доставки между своими складами в  подсистеме "Расчет сроков доставки" перенесена с закладки "Возможность доставки со склада на склад" на закладку "Графики доставки со склада на склад".
* Изменен порядок определения склада отгрузки \(реквизит "Склад/группа"\) в заказе покупателя, который импортируется с сайта. Склад отгрузки заполняется первым существующим значением в следующем порядке:
  * Склад отгрузки в заказе, созданном на сайте.
  * Основной склад отгрузки заказов с сайта, указанный в карточке контрагента.
  * Основной склад, указанный в настройках пользователя.
* Склад отгрузки, который указывался в справочнике "Пользователи сайта" больше не используется
* Форма элемента справочника "Контролы" переведена в упраляемый режим.
* Изменены некоторые синонимы объектов подсистемы "Zeta Web" \(добавлен суффикс "\(Zeta Web\)"\).

### Исправлено:

* Регламентное задание транслитерации наименований номенклатуры завершалось с ошибкой, если элемент справочника был удален из базы данных.
* В форму справочника "Номенклатура" на закладку "Инфо для сайта-Прочее" выведен реквизит "Ед. кратности продаж".
* В обмене данными версии 2 исправлена ошибка обмена табличными частями.
* Исправлена ошибка отображения на сайте свойств номенклатуры с типом "Булево".
* В форме элемента справочника "Внешний каталог \(типы\)" выведен реквизит "Двигатель" \(Engine\). 

### Удалено:

* Реквизит "СкладГруппа" в справочнике "СайтПользователи".

## Версия 2.4.3.3 от 29.10.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Добавлен отчет "Анализ остатков по номенклатуре для Управления Торговлей, ред.10.3"\(ЗетаСофт-ZetaWeb-Каталог и продажи\). Отчет предназначен для сверки остатков на сайте и в базе данных 1С.

### Изменено:

* Рекомендуется перейти на обмен данными версии 2.
  * В панели управления сайтом добавлена закладка "Обмен с сайтом"
  * Закладка "Обмен с сайтом" на закладке "Настройки" переименована в "Обмен с сайтом, вер.1"
  * Перед переходом на новую версию обмена необходимо обязательно выключить все регламентные задания, относящиеся к обмену версии 1.

### Исправлено:

* Исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.3.2 от 24.10.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Форма настройки ценообразования на внешние остатки в панели управления сайтом.
* Добавлена автоматическая регистрация заказов поставщиков и складов поставщиков в группах доступности складов для тех настроек, в которых не указано размещение.

### Изменено:

* Изменена закладка "Спец.цены" в панели управления сайтом. Закладка переименована в "Ценоборазование", на нее вынесены дополнительные настройки ценообразования, относящиеся к работе сайта.

### Исправлено:

* Ошибка регистрации удаления данных независимых регистров сведений в бета-версии обмена данными сайтом версии 2.
* Исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.3.1 от 16.10.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Нет.

### Изменено:

* Нет.

### Исправлено:

* Исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.3.0 от 15.10.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Подсистема "Расчет сроков доставки" предназначенная для возможности задать и рассчитать сроки доставки от поставщиков до своих складов, между своими складами, и от своих складов до регионов покупателей \(см. "ЗетаСофт - ZetaWeb - Доставка - Расчет сроков доставки"\).
* Подсчет количества объектов в обмене в бета-версии обмена данными сайтом версии 2.
* Возможность ручного обмена одним объектом обмена из настройки обмена в бета-версии обмена данными сайтом версии 2.
* Добавлена возможность для контрагента указать склад отгрузки по умолчанию для заказов, сделанных на сайте \(закладка "Прочее" в карточке контрагента\)

### Изменено:

* Изменен внешний вид меню "ZetaWeb", объекты подсистем "ZetaWeb",  сгруппированы по их функциональному назначению.

### Исправлено:

* Ошибка выбора типа группы в группе каталога сайта.
* Ошибка регистрации данных независимых регистров сведений в бета-версии обмена данными сайтом версии 2.
* Исправлены выявленные ошибки.

### Удалено:

* Нет

## Версия 2.4.2.2 от 18.09.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* В бета-версию обмена данными добавлена проверка настроек подсистемы обмена.
* В бета-версию обмена данными добавлена возможность подсчета количества объектов для обмена в настройке обмена.
* CSS классы в верстке можно указывать не только как ссылку на справочник, но и как строку.

### Изменено:

* Выполнена подготовка к удалению стархы объектов метаданных.

### Исправлено:

* Исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.2.1 от 13.09.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Бета-версия обмена данными сайтом версии 2.

### Изменено:

* Изменен формат вывода имени файлов \(css, js и т.п.\) с GUID на имя объекта, если оно заполнено. 

### Исправлено:

* исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.2.0 от 07.09.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Нет.

### Изменено:

* Нет.

### Исправлено:

* Ошибка создания кросса "сам на себя" для номенклатуры без артикулов.

### Удалено:

* Нет.

## Версия 2.4.1.2 от 03.09.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Нет.

### Изменено:

* Внешний вид некоторых форм.

### Исправлено:

* Исправлены выявленные ошибки.

### Удалено:

* Нет.

## Версия 2.4.1.1 от 24.08.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* В справочнике "Договоры контрагентов" добавлено поле "Запретить продажу товаров в рознице на сайте по условиям договора \(не по розничнным ценам\). Для таких договоров для складов - автоматизированных торговых точек на сайте будут показываться цены автоматизированной торговой точки.
* В справочнике "Настройки обмена" добавлено поле "Таймаут", которое прерывает обмен, если при завершении экспорта таблиц на сайт по каким-то причинам не приходит ответ. По умолчанию, при смене вида обмена для полного обмена устанавливается таймаут в 3600 сек, для обмена изменениями - 900 сек.

### Изменено:

* Нет.

### Исправлено:

* Исправлены незначительные ошибки.

### Удалено:

* Нет.

## Версия 2.4.1.0 от 17.08.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Возможность делить номенклатуру, продаваемую совместно на группы:
  * Справочник "Группы номенклатуры, продаваемой совместно" \(ЗетаСофт - Zet Web - Номенклатура, продаваемая совместно\).
    * Регистр сведений "Номенклатура, продаваемая совместно" \(ЗетаСофт - Zet Web - Номенклатура, продаваемая совместно\).
* Группы доступности складов теперь можно уточнить для контрагента, договора контрагента и пользователя сайта \(см. формы элементов соответствующих объектов\).

### Исправлено:

* Исправлены ошибки при работе клиента WSG.

## Версия 2.4.0.1 от 16.08.2017

**Минимальная версия для обновления: 2.3.1.0**

### Добавлено:

* Форма для управления веб-сервисами WSG.
* В справочнике "Точки выдачи контрагентов" добавлен реквизит "Склад отгрузки", который используется в качестве склада отгрузки при выборе точки отгрузки.
* В обработке "Настройка доставки и способов оплаты" добавлена проверка на корректность записей в регистре настройки.

### Исправлено:

* Ошибка записи при отложенной транслитерации номенклатуры.
* Ошибка конвертации групп доступности складов при переходе на версию 2.4.0.0.
* Ошибка применения ручных скидок.
* Ошибка при загрузке новых данных сайта при обновлении.

### Удалено:

* Нет.

## Версия 2.4.0.0 от 07.08.2017

### Добавлено:

* Добавлена подсистема работы с вненшними остатками \(через веб-сервисы поставщиков и через внешний виртуальный склад\), которая позволяет работать с отстатками поставщиков, не храня номенклатуру в собственной базе:
  * Форма настроек подключения к WSG \(веб-сервисы поставщиков\) и к внешним каталогам кроссов \(ЗетаСофт - Zet Web - Администрирование - Настройки WSG и внешних каталогов автозапчастей\).
  * Форма настроек подсветки и наименования складов для новых контролов поиска \(ЗетаСофт - Zet Web - Склады поставщиков и правила ценообразования - Описания складов поставщиков\).
  * Форма настроек ценообразования на остатки веб-сервисов и внешнего виртуального склада \(ЗетаСофт - Zet Web - Склады поставщиков и правила ценообразования - Правила ценообразования на внешние остатки\),
  * Форма настроек сроков групп доступности складов с учетом внешних складов \(ЗетаСофт - Zet Web - Склады поставщиков и правила ценообразования - Группы доступности складов\).
  * Форма настроек сроков доставки от поставщика на склад \(ЗетаСофт - Zet Web - Доставка - Внутренняя логистика - Настройка логистики\).
  * Форма "О программе", в которую сведена информация о версиях различных компонент программного комплекса Zeta Web.
* Добавлено большое количество служебных элементов метаданных для перехода в будущем на другую систему хранения данных о сайтах.

### Изменено:

* Поведение заявки на возврат:
  * Разрешено редактирование размещения.
  * Заполнение размещения выполняется автоматически, если это конфигурация УТ 10.3 и это операция возврата, то заполнение производится из склада продажи документа основания - заказа покупателя\).
* Планы обмена данными с сайтом разделены на план обмена данными сайта и план обмена данными конфигурации.

### Исправлено:

* В объектах конфигурации исправлена принадлежность табличной части "Товары" документа "Реализация товаров услуг".
* Исправлен обмен с сайтом по защищенному протоколу для платфоры 8.3.10.
* Исправлены некоторые запросы обмена данными.
* Исправлена ошибка с очисткой идентификатора строки заказа при копировании строки в табличной части "Товары".

### Удалено:

* Нет.

## Версия 2.3.1.0 от 09.06.2017

### Добавлено:

* В настройках добавлена обязательная проверка заполнения вариантов использования кроссов.
* Поддержка онлайн касс \(только совместно с платежной системой Яндекс.Деньги\). В справочнике "Настройки платежных систем" появились соответствующие настройки.

### Изменено:

* Нет.

### Исправлено:

* Увеличена длина идентификатора купона в документе "Заказ покупателя".
* Неверное сообщение об ошибке обмена, если обмен выполнялся без архивирования файлов.

### Удалено:

* Удален ряд неактуальных объектов.

## Версия 2.2.5.1 от 08.05.2017

### Добавлено:

* Добавлена совместимость со справочником "Типы оплат" в конфигурациях Альфа-Авто для поддержки оплат сайта.

### Изменено:

* Обмен с сайтом в части импорта объектов, изменяемых на сайте \(проведен рефакторинг\).

### Исправлено:

* При обновлении внутренних данных сайта устаревшие объекты снимаются с поддержки.
* Баннеры с неуказанным сроком действия теперь не попадают в отображение архивных баннеров.
* При копировании заказа очищается уникальный код заказа на сайте.
* Исправлены незначительные ошибки.

### Удалено:

* Нет.

## Версия 2.2.5.0 от 12.05.2017

### Добавлено:

* При настройке обмена добавлена возможность выбрать режим обмена - "Проверка полного обмена \(5000 эл. на объект\)", режим предназначен для тестирования полной выгрузки. При выборе этого режима обмена полная выгрузка будет ограничена 5000 элементов на каждый объект обмена.
* В форме списка справочника "Объекты конфигурации" добавлена возможность редактирования запросов \(повышено удобство редактирования запросов, старый механизм редактирования запросов через справочник "Виды конфигураций" пока сохранен\).
* Добавлена возможность обмена разными объектами конфигурации в одном файле обмена \(например, таблицей заказов покупателя и таблицей товаров заказов покупателя\). Для этого нужно выбрать основной объект обмена и в связанных объекта обмена в поле "Родительский объект обмена" указать основной объект обмена. По умолчанию такой обмен установлен для заказа покупателя и реализации товаров.

### Изменено:

* В карточке номенклатуры убрана видимость поля "Группа синонимов".
* Убран код для справочников, включенных в механизм версионности.

### Исправлено:

* Повышена совместимость с платформой 8.2.
* Управляемая форма элемента для справочника "Каталог" для конфигураций "Альфа-Авто".
* Стандартизировны некоторые запросы для конфигураций "Альфа-Авто".
* Исправлены выявленные ошибки.

### Удалено:

* В справочнике "Объекты конфигурации" удалены все предопределенные элементы кроме корневых. Целостность данных поддерживается на уровне механизма версионности \(см. описание релиза 2.2.0.0\) после обновления может быть снята ранее установленная пометка удаления для элементов справочника "Объекты конфигурации \(Зета Web\)".

## Версия 2.2.4.0 от 30.04.2017

### Добавлено:

* В механизм поддержки версионности данных сайта добавлены все данные, относящиеся к базовой функциональности \(ядру\) сайта.
* Обмен с сайтом теперь может работать по протоколу https.
* Поддержка функциональности "суперпользователь" \(см. документацию\).

### Изменено:

* Устаревшие объекты поставлены в очередь на удаление \(будут удалены в ближайших релизах\).

### Исправлено:

* Неверная регистрация регистров сведений в плане обмена "Статусы строк заказов" удалена.

### Удалено:

* Из механизма подержки версионности данных сайта исключен справочник "Шаблоны контролов".

## Версия 2.2.2.1 от 06.04.2017

### Добавлено:

* Отбор в журнале сообщений - "За сегодня", "За последнюю неделю", "За последний месяц".
* В регистры запрещенной и разрешенной номенклатуры добавлен отбор по роли, внесены измения в соответствующие запросы обмена.

### Изменено:

* Отбор в журнале пользователй "За текущую неделю" изменено на "За последнюю неделю", "За текущий месяц" изменено на "За последний месяц".

### Исправлено:

* Ошибка обмена статусов строк заказов.
* Выбор региона по умолчанию в контроле "Текущий регион пользователя".
* Небольшие изменения в отнесение объектов к подсистемам.

### Удалено:

* Нет.

## Версия 2.2.2.0

### Добавлено:

* Нет.

### Изменено:

* Внесены небольшие изменения для повышения совместимости с конфигурациями Альфа-Авто.
* Изменены некоторые синонимы реквизитов объектов.

### Исправлено:

* Исправлена ошибка редактора шаблонов контрола \(можно было произвольно менять порядок параметров группы частей шаблона\).

### Удалено:

* Нет.

## Версия 2.2.1.0 от 06.02.2017

### Добавлено:

* В менеджере справочника "Сообщения Zeta Web" добавлена функция создания сообщений для сайта.

### Изменено:

* Обновлены описания и состав типовых параметров некоторых контролов.

### Исправлено:

* Нет.

### Удалено:

* Нет.

## Версия 2.2.0.0 от 30.01.2017

### Добавлено:

* Новая подсистема обновления, хранения и редактирования внутренних данных Zeta Web.
* Внутренние данные Zeta Web хранятся в разрезе релизов. Подсистема позволяет автоматически обновлять данные на поддержке и контролировать изменения данных, которые изменены вручную.
* Добавлена обработка "Обновление внутренних данных Zeta Web" предназначеная для трехстороннего сравнения и объединения данных при обновлении сайта.
* Список поддерживаемых в этой версии объектов данных:
  * Справочники:
    * ЗетаWEBКонтролы
    * ЗетаWEBТипыПараметровКонтролов
    * ЗетаWEBТиповыеПараметрыКонтролов
    * ЗетаWEBВариантыШаблоновКонтрола
    * ЗетаWEBТиповойСоставВариантаШаблонаКонтрола
    * ЗетаWEBШаблоныКонтролов
    * ЗетаWEBОбъектыКонфигурации
  * Регистры сведений:
    * ЗетаWEBЗначенияЗапросовКОбъектамКонфигураций
    * ЗетаWEBСоответствияИменОбъектовОбмена
    * ЗетаWEBСоответствияПолейОбъектовПриЗагрузке"

### Изменено:

* Обновлены описания и состав типовых параметров большого количества контролов.

### Исправлено:

* Нет.

### Удалено:

* Нет.

## Версия 0.0.0.0 от

**Минимальная версия для обновления: 0.0.0.0**

**Главное**

* нет

### Добавлено:

* Нет.

### Изменено:

* Нет.

### Исправлено:

* Нет.

### Удалено:

* Нет.

