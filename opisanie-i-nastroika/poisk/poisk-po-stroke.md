# Поиск по строке

При работе с поиском по строке используется контрол [Поиск. Условия поиска.](../../tekhnicheskaya-dokumentaciya/opisanie-kontrolov/1-poisk-katalog-tovary/poisk-usloviya-poiska.md)

![Контрол "Поиск. Условия поиска (Zeta Web)"](<../../.gitbook/assets/Image 95.png>)

Поиск может работать, как по выбранному варианту (артикул, начало артикула, наименование, VIN-номер), так и в режиме автоопределения нужного варианта поиска.

### Автоопределение

Автоопределение варианта поиска будет срабатывать во всех случаях, когда тип поиска **(search\_searchtype)** не задан.

{% hint style="info" %}
Если тип поиска не задан, то контрол пытается определить наиболее подходящий тип поиска на основании RegExp выражений. \
В определении типа поиска возможны ошибки.

_Например, если очищенный артикул будет состоять из 17 символов, включающих цифры и буквы латинского алфавита, то автоопределение сработает для поиска по VIN-номеру._
{% endhint %}

### По артикулу

Тип поиска (search\_searchtype) **= 1.**

Происходит поиск по очищенному, от лишних символов, поисковому запросу (точное совпадение с очищенным артикулом).&#x20;

В случае, если по очищенному артикулу:

* больше 1 предложения по брендам, будет переход на страницу "**Уточнения артикула и бренда**".
* только 1 бренд, то будет переход на страницу "**Цены и наличие**".

### По началу артикула

Тип поиска (search\_searchtype) **= 2.**

Работает аналогично поиску по артикулу с тем лишь отличием, что идет поиск не по точному совпадению, а по вхождению поискового запроса в начало артикула.

### По наименованию

Тип поиска (search\_searchtype) **= 3.**

Полнотекстовый поиск средствами MS SQL с использованием морфологического поиска Full-Text Search.

Флаг "**Отключить режим отображения уточнений при поиске по тексту**" позволяет:

* при значении **НЕТ** переходить к уточнениям;
* при значении **ДА** переходить сразу к предложениям.

{% hint style="info" %}
**Поиск по тексту осуществляется в двух режимах:**\
**1) с уточнением;**\
**2) с выводом остатков и цен сразу.** \
\
Во втором режиме для большого количества номенклатуры и наборов условий (черно-белых списков, групп доступности складов, правил ценообразования и т.д.) поиск может занимать длительное время, поскольку происходит расчет цен для конечного клиента для произвольной выборки. \
Чем больше количество предложений попадает в выборку, тем дольше поиск.

В настоящее время ведется работа по изменению алгоритмов поиска.
{% endhint %}

### По VIN для Laximo

Тип поиска (search\_searchtype) **= 4.**

При вводе VIN-номера будет переход на заданную страницу "Поиск по VIN / Frame".

### Поиск групп каталога по тексту

{% hint style="warning" %}
Начиная с релиза Zeta Web 2.5.0.0. Работает с использованием ZetaWeb API 2.0
{% endhint %}

Контрол "**Поиск. Поиск групп каталога по тексту товаров**" позволяет выводить на странице с результатами уточнения поиска и предложений - **группы каталога**, в которых найдена номенклатура, в строке поиска (подробнее в разделе [Синонимы поиска](../gruppy-sinonimov-poiska.md)) которой, содержится введенный в поиске запрос.

Для отображения на странице с результатами уточнения или результатами поиска необходимо вывести контрол "Поиск. Поиск групп каталога по тексту товаров" с шаблоном.

![Пример отображения](<../../.gitbook/assets/image (587).png>)

Ниже пример используемых частей шаблона в шаблоне контрола.

{% tabs %}
{% tab title="Шапка" %}
```markup
<div>
	<h2>
		Найдено в группах
	</h2>
```
{% endtab %}

{% tab title="Подвал" %}
```
</div>
```
{% endtab %}

{% tab title="Основной" %}
```
<div>
	[LinkSearch]
		[Name]
			@Значение
		[/Name]
	[/LinkSearch]
</div>
```
{% endtab %}
{% endtabs %}

В качестве **дополнительных параметров** для контрола используются:

* **Минимальный рейтинг групп каталога** (группы каталога с рейтингом ниже указанного не будут возвращены при поиске);
* **Настройка сортировки данных** (позволяет создать свою настройку сортировки по следующим полям: наименование, код, порядок сортировки (рейтинг)).
